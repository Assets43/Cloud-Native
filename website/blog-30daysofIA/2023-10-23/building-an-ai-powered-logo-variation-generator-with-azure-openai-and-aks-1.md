---
date: 2023-10-23T09:00
slug: building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-1
title: 4-1 - Building an AI-Powered Logo Variation Generator with Azure OpenAI and AKS (1)
authors: [cnteam]
draft: true
hide_table_of_contents: false
toc_min_heading_level: 2
toc_max_heading_level: 3
keywords: [Cloud, Data, AI, AI/ML, intelligent apps, cloud-native, 30-days, enterprise apps, digital experiences, app modernization, serverless, ai apps, data]
image: https://azure.github.io/Cloud-Native/img/ogImage.png
description: "Explore how to develop an AI-powered logo generator using DALL-E, Azure OpenAI and Azure Kubernetes Service (AKS)." 
tags: [Build-Intelligent-Apps, 30-days-of-IA, learn-live, hack-together, community-buzz, ask-the-expert, azure-kubernetes-service, azure-functions, azure-openai, azure-container-apps, azure-cosmos-db, github-copilot, github-codespaces, github-actions]
---

<head>
<meta property="og:url" content="https://azure.github.io/cloud-native/30daysofia/building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-1"/>
<meta property="og:type" content="website"/>
<meta property="og:title" content="Build Intelligent Apps!| Build AI Apps On Azure"/>
<meta property="og:description" content="Explore how to develop an AI-powered logo generator using DALL-E, Azure OpenAI and Azure Kubernetes Service (AKS)."/>
<meta property="og:image" content="https://azure.github.io/Cloud-Native/img/ogImage.png"/>
    <meta name="twitter:url" 
      content="https://azure.github.io/Cloud-Native/30daysofIA/building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-1" />
    <meta name="twitter:title" 
      content="Build Intelligent Apps! | Build AI Apps On Azure" />
    <meta name="twitter:description" 
      content="4.1 - Building an AI-Powered Logo Variation Generator with Azure OpenAI and AKS (1)" />
    <meta name="twitter:image" 
      content="https://azure.github.io/Cloud-Native/img/ogImage.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:creator" 
      content="@devanshidiaries" />
    <meta name="twitter:site" content="@AzureAdvocates" /> 
    <link rel="canonical" 
      href="https://azure.github.io/Cloud-Native/30daysofIA/https://azure.github.io/Cloud-Native/30daysofIA/building-an-ai-powered-logo-variation-generator-with-azure-openai-and-aks-1" />
</head>

<!-- End METADATA -->
In this article, explore how to develop an AI-powered logo generator using DALL-E, [Azure OpenAI](https://learn.microsoft.com/azure/ai-services/openai/overview?WT.mc_id=javascript-99907-ninarasi) and [Azure Kubernetes Service (AKS)](https://learn.microsoft.com/azure/aks/?WT.mc_id=javascript-99907-ninarasi).

## What We'll Cover:

 * Generating images with [DALL-E](https://openai.com/dall-e-2)
 * Environment setup in Azure Machine Learning

![image of logos on web interface](../../static/img/fallforia/blogs/2023-10-23/blog-image-4-1-1.jpeg)

## Building an AI-Powered Logo Variation Generator with Azure OpenAI and AKS (1)

Have you ever wondered how to create unique and eye-catching logos for your brand or project? Do you want to unleash your creativity and experiment with AI? If so, you might be interested in [Azure OpenAI](https://azure.microsoft.com/products/ai-services/openai-service?WT.mc_id=javascript-99907-ninarasi), a new Azure service granting access to some of the most advanced AI models globally, including [DALL-E 2](https://openai.com/dall-e-2).

With the ability to interpret detailed text prompts, DALL-E 2 can generate images ranging from realistic to imaginative. It can merge elements, characteristics, and artistic influences to generate unique illustrations, emblems, or images with a true-to-life appearance.

In this article, we’ll explore how to build an Intelligent App that uses DALL-E to create logos. Intelligent Apps harness artificial intelligence (AI), machine learning (ML), and data analytics to deliver personalized and data-driven user experiences. They can understand the user’s intent, make predictions, automate tasks, generate content, or provide recommendations based on data and analytics.

After completing this tutorial, you’ll know how to:

* Set up Azure OpenAI.
* Create a Python back end using [FastAPI](https://fastapi.tiangolo.com/) that uses DALL-E to create logo variations.
* Build a web interface that lets you upload a logo, enter a text prompt, and view logos generated by DALL-E.
* Deploy your app using [Azure Kubernetes Service (AKS)](https://azure.microsoft.com/products/kubernetes-service?WT.mc_id=javascript-99907-ninarasi). 

Let’s get started!

## Creating an AI-Powered Logo Variation Generator

Before diving into the details of how to build and deploy the app, let’s look at its basic architecture. The app consists of three main parts:

* A Python back end that uses the [OpenAI Python Library](https://github.com/openai/openai-python) to communicate with Azure OpenAI and FastAPI to serve logo generation requests.
* A web UI built with HTML, CSS, and JavaScript. This setup lets us select a logo, enter instructions, submit them to the back end, and view the logos provided by DALL-E.
* An AKS cluster that hosts the app. This is AKS Azure’s managed Kubernetes service, which we’ll use to deploy the app as a containerized application.

For a preview of the final product, review the [complete project code](https://github.com/contentlab-io/Microsoft-Building-an-AI-Powered-Logo-Variation-Generator-with-Azure-OpenAI).

### Prerequisites

To follow along, you need:

* An [Azure subscription](https://learn.microsoft.com/azure/cloud-adoption-framework/ready/landing-zone/design-area/resource-org-subscriptions?WT.mc_id=javascript-99907-ninarasi) with access to Azure OpenAI. Note that you’ll have to [apply for approval](https://customervoice.microsoft.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR7en2Ais5pxKtso_Pz4b1_xUOFA5Qk1UWDRBMjg0WFhPMkIzTzhKQ1dWNyQlQCN0PWcu) to access Azure OpenAI.
* A DALL-E model deployed to Azure. See the [resource deployment guide](https://learn.microsoft.com/azure/ai-services/openai/how-to/create-resource?pivots=cli&WT.mc_id=javascript-99907-ninarasi) for further instructions on deploying a model. You can currently only deploy DALL-E models to resource groups in the `eastus` region using the `dalle2` model.
* The deployment name, endpoint, and API key for your DALL-E model. See the “Retrieve key and endpoint” section in the [Azure OpenAI docs](https://learn.microsoft.com/azure/ai-services/openai/dall-e-quickstart?pivots=programming-language-python&WT.mc_id=javascript-99907-ninarasi#retrieve-key-and-endpoint) for instructions on how to find your model’s endpoint URL and API key.
* The [Azure CLI](https://learn.microsoft.com/cli/azure/install-azure-cli?WT.mc_id=javascript-99907-ninarasi) installed and signed in to the Azure subscription containing your DALL-E model deployment
* [Docker](https://www.docker.com/) to package and deploy your application
* [kubectl](https://kubernetes.io/docs/reference/kubectl/) to manage your AKS cluster 

If you don’t yet have Docker or `kubectl` installed, [Docker Desktop](https://www.docker.com/products/docker-desktop/) includes both and is the quickest way to get up and running.

### Solution Architecture

The image below shows the architecture of the solution we’re aiming for in this article.

![image of solution architecture in this article](../../static/img/fallforia/blogs/2023-10-23/blog-image-4-1-2.png)

## Generating Images with DALL-E

The first step in building our Azure OpenAI-powered app is creating a Python back end using [FastAPI](https://fastapi.tiangolo.com/) and the OpenAI Python SDK. If you haven’t used it before, FastAPI is a library for building fast, easy-to-write REST APIs.

Start by creating a file named `requirements.txt`. Add our app’s dependencies to it: 

```
fastapi[all] 
openai 
```

Then, install the dependencies using `pip`: 

```
pip install -r requirements.txt
```

Next, create a file named `main.py`. Our back end doesn’t require a lot of code, so we’ll compile all the Python code into this file to keep things simple. Copy the rest of the code blocks in this section into `main.py` as you go. Start by importing the packages and classes needed to build the back end:

```
from typing import List

import openai
from fastapi import FastAPI
from fastapi.staticfiles import StaticFiles 
```

Now, we need to alter a few settings to get the OpenAI Python library to work with Azure OpenAI. Replace `AZURE_OPENAI_KEY` and `AZURE_OPENAI_ENDPOINT` with the values you received when creating your Azure OpenAI model:

```
openai.api_key = "AZURE_OPENAI_KEY"
openai.api_base = "AZURE_OPENAI_ENDPOINT
openai.api_type = 'azure'
openai.api_version = '2023-05-15'
```

Note that we’re hardcoding the values to keep this tutorial simple, but in a production environment, you’ll want to use [Azure Key Vault](https://azure.microsoft.com/products/key-vault?WT.mc_id=javascript-99907-ninarasi) to safely store your app’s secrets.

Then, create an instance of FastAPI and assign it to a variable named 'app':

```
app = FastAPI() 
```

Next, add a function named 'generate_logos' that takes a text prompt as a parameter and returns a list of logo variants that DALL-E generates:

```
async def generate_logos(text_prompt: str):
    # Generate images from text prompt using DALL-E
    response = await openai.Image.acreate(
        prompt=f"A company logo matching the following description: {text_prompt}",
        size="256x256",
        n=3,
    )

    # Return a list of image URLs
    image_urls = [image["url"] for image in response["data"]]
    return image_urls
```

Here’s what the function does:

* It reads the image file as bytes and encodes it as base64.
* It uses the 'openai.Image.create()' method to generate images from the user’s prompt, passing in the image file as an input parameter along with the text prompt.
* It returns a list of image URLs from the response.

Note that we’re adding additional detail to the prompt the user provided to help ensure it generates logos as we expect. This technique is worth remembering because [prompt engineering](https://learn.microsoft.com/azure/ai-services/openai/concepts/prompt-engineering?WT.mc_id=javascript-99907-ninarasi) is important when working with modern AI models.

Next, add a FastAPI endpoint that accepts a text prompt from the web UI and returns a list of DALL-E-generated logo variants:

```
@app.post("/logos", response_model=List[str])
async def logos(text_prompt: str = ""):
    # Generate logo variants using DALL-E
    image_urls = generate_logos(text_prompt)

    # Return image URLs as JSON response
    return image_urls
```

FastAPI automatically converts the Python array to JSON, so we don’t need to serialize it before returning it. Now, add an endpoint to serve the static files housing the app’s web UI:

```
app.mount("/", StaticFiles(directory="static", html=True), name="static")
```

FastAPI processes routes in the order they’re created, so adding the static file handler at the end ensures it won’t accidentally intercept requests to the `/logo` endpoint.

That’s all the code needed in `main.py`. Save the file and run the server using uvicorn, which comes automatically with FastAPI:

```
uvicorn main:app --reload
```

Your terminal should display something like this:

```
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit) INFO:     Started reloader process [12345] using statreload INFO:     Started server process [56789] INFO:     Waiting for application startup. INFO:     Application startup complete.
```

That’s all you need for the Python back end! Let’s move on to building the app’s user interface.

:::info
Join the Azure team at **[KubeCon and Azure Day](https://aka.ms/aks-day)** in Chicago on **November 6, 2023**. The Azure Product Engineering team along with the Cloud Advocates team will be there to dive deep with you on developing intelligent apps with Azure Kubernetes Service.
:::

## Building a Web Interface




## Exercise

* Complete this **hands-on sample** [project code](https://github.com/contentlab-io/Microsoft-Building-Your-First-Intelligent-App-with-Azure-Cognitive-Services/tree/main/Microsoft_Series_2_Code/Source%20-%20Article%207%20%2B%208/UserFeedbackApp/Models) to build your intelligent app with multi-modal databases.
* Complete the **[Intelligent apps Cloud Skills Challenge](https://aka.ms/fallforIA/apps-csc)** to build on your app dev and AI skills.
* Watch the **[Ask the Expert: Azure Container Apps](https://reactor.microsoft.com/en-us/reactor/events/20728/?WT.mc_id=javascript-99907-ninarasi)** session where the Product Engineering team goes deep with demos while addressing the concepts for building intelligent apps using Azure Container Apps.